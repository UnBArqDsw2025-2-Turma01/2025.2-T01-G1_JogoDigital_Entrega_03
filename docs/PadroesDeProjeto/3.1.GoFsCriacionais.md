# 3.1. M√≥dulo Padr√µes de Projeto GoFs Criacionais

## 3.2.1. Introdu√ß√£o

Os **Padr√µes de Projeto Criacionais**, parte do cat√°logo da "Gang of Four" (GoF) <a href="#REF1">[1]</a>, representam solu√ß√µes consagradas para problemas recorrentes relacionados √† **cria√ß√£o de objetos** em _software_ orientado a objetos. Diferentemente dos padr√µes Estruturais e Comportamentais, que lidam com a composi√ß√£o de classes e a comunica√ß√£o entre objetos, os padr√µes Criacionais focam em **como instanciar objetos de maneira flex√≠vel, independente e reutiliz√°vel**.

Esses padr√µes s√£o essenciais para controlar a complexidade associada √† cria√ß√£o de objetos, permitindo **encapsular a l√≥gica de constru√ß√£o**, reduzir depend√™ncias diretas e tornar o c√≥digo mais **adapt√°vel a mudan√ßas**. Eles oferecem formas padronizadas de criar inst√¢ncias sem acoplar o c√≥digo a classes concretas, aumentando a **coes√£o, a reutiliza√ß√£o e a testabilidade** do sistema.

## Participantes

<font size="3"><p style="text-align: center">Tabela 1: Participantes</p></font>

<div align="center">
<table>
  <thead>
    <tr>
      <th>Nome</th>
      <th>Fun√ß√£o</th>
      <th>Data</th>
      <th>Hora</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://github.com/caioduart3">Caio Duarte</a></td>
      <td>GoF Criacional - Singleton</td>
      <td>23/10/2025</td>
      <td>20:30</td>
    </tr>
    <tr>
      <td><a href="https://github.com/felixlaryssa">Laryssa F√©lix</a></td>
      <td>GoF Criacional - Singleton</td>
      <td>23/10/2025</td>
      <td>20:30</td>
    </tr>
    <tr>
      <td><a href="https://github.com/rafaelschadt">Rafael Schadt</a></td>
      <td>GoF Criacional - Singleton</td>
      <td>23/10/2025</td>
      <td>20:30</td>
    </tr>
    <tr>
      <td><a href="https://github.com/VictorPontual">Victor Pontual</a></td>
      <td>GoF Criacional - Singleton</td>
      <td>23/10/2025</td>
      <td>20:30</td>
    </tr>
  </tbody>
</table>
</div>

<font size="2"><p style="text-align: center">Fonte: Equipe do Projeto, 2025.</p></font>

## 3.2.2. Metodologia

A pesquisa e desenvolvimento do estudo dos Padr√µes de Projeto Criacionais foram conduzidos seguindo uma abordagem pr√°tica e colaborativa, com foco na **cria√ß√£o eficiente e flex√≠vel de objetos** dentro do sistema de _software_ do jogo.

### 3.2.2.1. Revis√£o e Sele√ß√£o de Padr√µes

Foi realizada uma revis√£o do cat√°logo de Padr√µes de Projeto Criacionais da GoF, selecionando os padr√µes mais relevantes para **controlar a cria√ß√£o de inst√¢ncias de entidades do jogo**, garantindo que o c√≥digo ficasse mais modular e f√°cil de estender.

### 3.2.2.2. Aplica√ß√£o e Implementa√ß√£o

Os padr√µes selecionados ( _Singleton_ e _Prototype_) foram implementados no c√≥digo-fonte do jogo. Essa etapa visou **reduzir acoplamento direto √†s classes concretas** e fornecer um mecanismo flex√≠vel de cria√ß√£o de objetos de diferentes tipos.

### 3.2.2.3. Modelagem e Documenta√ß√£o UML

Para documentar visualmente a aplica√ß√£o dos padr√µes, utilizou-se o **Draw.io** para criar **Diagramas de Classes**.

### 3.2.2.4. Demonstra√ß√£o e Colabora√ß√£o

Sess√µes de desenvolvimento e explica√ß√£o do c√≥digo foram **registradas via Microsoft Teams**, documentando o processo de aplica√ß√£o dos padr√µes e o fluxo colaborativo da equipe.

## 3.2.3. **Singleton**

O padr√£o **Singleton** garante que uma classe tenha **uma √∫nica inst√¢ncia** e fornece um ponto global de acesso a ela. No projeto, foi usado para gerenciar recursos globais, como configura√ß√£o do jogo ou estados compartilhados.

### 3.2.3.1. Diagrama UML

O Singleton foi aplicado no gerenciamento de instancias dos Assets:

![diret√≥rio do c√≥digo](../assets/GoFsCriacionais/Singleton.png)

???+ note "Aplica√ß√£o do Padr√£o Singleton"
```python
    import pygame
    import os
from Template.UIConfigs import \*

class AssetProvider:
"""
Singleton para gerenciamento centralizado de assets do jogo.
"""
ASSETS = {}
\_loaded = False

    def __init__(self):
        """Impede instancia√ß√£o - AssetProvider deve ser usado apenas como classe est√°tica."""
        raise TypeError(
            "AssetProvider n√£o deve ser instanciado. "
            "Use AssetProvider.carregar_assets() e AssetProvider.get(key) diretamente."
        )

    @classmethod
    def carregar_assets(cls):
        """Carrega e escala todos os assets do jogo."""
        if cls._loaded:
            print("[AssetProvider] Assets j√° carregados anteriormente, pulando recarregamento.")
            return

        base_dir = os.path.dirname(os.path.abspath(__file__))
        try:
            # FONTE
            cls.ASSETS['font_press_start_2P'] = pygame.font.Font(os.path.join(base_dir, 'font', 'PressStart2P-Regular.ttf'), 24)

            # MAP TILES
            cls.ASSETS['grass_claro'] = pygame.transform.scale(
                pygame.image.load(os.path.join(base_dir, 'maps', 'map1', 'titleset', 'grass1.png')).convert_alpha(),
                (TAMANHO_QUADRADO, TAMANHO_QUADRADO)
            )
            cls.ASSETS['grass_escuro'] = pygame.transform.scale(
                pygame.image.load(os.path.join(base_dir, 'maps', 'map1', 'titleset', 'grass2.png')).convert_alpha(),
                (TAMANHO_QUADRADO, TAMANHO_QUADRADO)
            )

            #SCOREBOARD
            cls.ASSETS['scoreboard'] = pygame.transform.scale(
                pygame.image.load(os.path.join(base_dir, 'maps', 'map1', 'object', 'map_scoreboard1.png')).convert_alpha(),
                (TAMANHO_QUADRADO*5, TAMANHO_QUADRADO*1.5)
            )

            cls.ASSETS['scoreboard_slot'] = pygame.transform.scale(
                pygame.image.load(os.path.join(base_dir, 'maps', 'map1', 'object', 'player_block01.png')).convert_alpha(),
                (TAMANHO_QUADRADO/1.8, TAMANHO_QUADRADO/1.6)
            )

            # CAIPORA
            cls.ASSETS['caipora_attack'] = [
                pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'characters', 'defense', 'caipora', f'caipora_attack{i}.png')).convert_alpha(),
                    (TAMANHO_CAIPORA, TAMANHO_CAIPORA)
                )
                for i in range(1, 3)
            ]

            cls.ASSETS['caipora_projectile'] = pygame.transform.scale(
                pygame.image.load(os.path.join(base_dir, 'characters', 'defense', 'caipora', 'caipora_arrow.png')).convert_alpha(),
                (50, 20)
            )

            # BICHO PAP√ÉO
            bp_walk = [
                pygame.image.load(os.path.join(base_dir, 'characters', 'enemies', 'bicho-papao', f'bp_walk{i}.png')).convert_alpha()
                for i in range(1, 5)
            ]
            cls.ASSETS['bp_walk'] = [
                pygame.transform.scale(pygame.transform.flip(img, True, False), (TAMANHO_BP, TAMANHO_BP))
                for img in bp_walk
            ]

            bp_attack = [
                pygame.image.load(os.path.join(base_dir, 'characters', 'enemies', 'bicho-papao', f'bp_attack{i}.png')).convert_alpha()
                for i in range(1, 3)
            ]
            cls.ASSETS['bp_attack'] = [
                pygame.transform.scale(pygame.transform.flip(img, True, False), (TAMANHO_BP, TAMANHO_BP))
                for img in bp_attack
            ]

            # GUARAN√Å (moeda) - carregar com o mesmo padr√£o dos outros assets
            cls.ASSETS['guarana_coin'] = pygame.transform.scale(
                pygame.image.load(os.path.join(base_dir, 'maps', 'map1', 'object', 'guarana_coin.png')).convert_alpha(),
                (40, 40)
            )

            # MENU PAUSA
            cls.ASSETS.update({
                # Fundo do menu pausa
                'menu_pausa': pygame.image.load(
                    os.path.join(base_dir, 'menu_pause', 'menu_pausa.png')
                ).convert_alpha(),

                # Bot√£o M√öSICA
                'btn_musica': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'botao_musica.png')).convert_alpha(),
                    (200, 60)  # Largura, altura
                ),
                'btn_musica_hover': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'botao_musica_click.png')).convert_alpha(),
                    (200, 60)
                ),

                # Bot√£o EFEITO SONORO
                'btn_efeito': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'botao_efeitoSonoro.png')).convert_alpha(),
                    (200, 60)
                ),
                'btn_efeito_hover': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'botao_efeitoSonoro_click.png')).convert_alpha(),
                    (200, 60)
                ),

                # Bot√£o TUTORIAL
                'btn_tutorial': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'botao_tutorial.png')).convert_alpha(),
                    (200, 60)
                ),
                'btn_tutorial_hover': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'botao_tutorial_click.png')).convert_alpha(),
                    (200, 60)
                ),

                # Bot√£o Sair da Partida
                'btn_sair': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'botao_sair_partida.png')).convert_alpha(),
                    (200, 60)
                ),
                'btn_sair_hover': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'botao_sair_partida_click.png')).convert_alpha(),
                    (200, 60)
                ),

                # Icone Som Normal
                'icon_som': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'icone_som_normal.png')).convert_alpha(),
                    (40, 40)
                ),
                'icon_som_hover': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'icone_som_click.png')).convert_alpha(),
                    (40, 40)
                ),

                # Icone Som Mudo
                'icon_mute': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'icone_som_mute.png')).convert_alpha(),
                    (40, 40)
                ),

                # Barra de volume
                'barra_volume_mute': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'barra_0.png')).convert_alpha(),
                    (150, 20)
                ),
                'barra_volume_mute_houver': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'barra_0_click.png')).convert_alpha(),
                    (150, 20)
                ),
                'barra_volume_25': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'barra_25.png')).convert_alpha(),
                    (150, 20)
                ),
                'barra_volume_25_houver': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'barra_25_click.png')).convert_alpha(),
                    (150, 20)
                ),
                'barra_volume_50': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'barra_50.png')).convert_alpha(),
                    (150, 20)
                ),
                'barra_volume_50_houver': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'barra_50_click.png')).convert_alpha(),
                    (150, 20)
                ),
                'barra_volume_75': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'barra_75.png')).convert_alpha(),
                    (150, 20)
                ),
                'barra_volume_75_houver': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'barra_75_click.png')).convert_alpha(),
                    (150, 20)
                ),
                'barra_volume_100': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'barra_100.png')).convert_alpha(),
                    (150, 20)
                ),
                'barra_volume_100_houver': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_pause', 'barra_100_click.png')).convert_alpha(),
                    (150, 20)
                ),

                # MENU CONFIGURA√á√ïES
                'menu_config': pygame.image.load(
                    os.path.join(base_dir, 'menu_config', 'menu_config.png')
                ).convert_alpha(),
                'btn_voltar': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_config', 'botao_voltar.png')).convert_alpha(),
                    (200, 60)
                ),
                'btn_voltar_hover': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_config', 'botao_voltar_click.png')).convert_alpha(),
                    (200, 60)
                ),
                'btn_salvar': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_config', 'botao_salvar.png')).convert_alpha(),
                    (200, 60)
                ),
                'btn_salvar_hover': pygame.transform.scale(
                    pygame.image.load(os.path.join(base_dir, 'menu_config', 'botao_salvar_click.png')).convert_alpha(),
                    (200, 60)
                ),

                # MENU PRINCIPAL
                'menu_principal': pygame.image.load(
                    os.path.join(base_dir, 'menu', 'menu_screen', 'main_screen.png')
                ).convert_alpha(),

                # Bot√µes do Menu Principal
                'menu_btn_jogar': pygame.image.load(
                    os.path.join(base_dir, 'menu', 'menu_screen', 'main_screen_button3.png')
                ).convert_alpha(),
                'menu_btn_jogar_hover': pygame.image.load(
                    os.path.join(base_dir, 'menu', 'menu_screen', 'main_screen_button_click1.png')
                ).convert_alpha(),

                'menu_btn_loja': pygame.image.load(
                    os.path.join(base_dir, 'menu', 'menu_screen', 'main_screen_button2.png')
                ).convert_alpha(),
                'menu_btn_loja_hover': pygame.image.load(
                    os.path.join(base_dir, 'menu', 'menu_screen', 'main_screen_button_click2.png')
                ).convert_alpha(),

                'menu_btn_creditos': pygame.image.load(
                    os.path.join(base_dir, 'menu', 'menu_screen', 'main_screen_button1.png')
                ).convert_alpha(),
                'menu_btn_creditos_hover': pygame.image.load(
                    os.path.join(base_dir, 'menu', 'menu_screen', 'main_screen_button_click3.png')
                ).convert_alpha(),

                'menu_btn_config': pygame.image.load(
                    os.path.join(base_dir, 'menu', 'menu_screen', 'botao_config.png')
                ).convert_alpha(),
                'menu_btn_config_hover': pygame.image.load(
                    os.path.join(base_dir, 'menu', 'menu_screen', 'botao_config_click.png')
                ).convert_alpha(),
                })

            cls._loaded = True
            print("[AssetProvider] Assets carregados com sucesso.")

        except pygame.error as e:
            print(f"[AssetProvider] ERRO CR√çTICO ao carregar assets: {e}")
            pygame.quit()
            exit()

    @classmethod
    def is_loaded(cls) -> bool:
        """Verifica se os assets j√° foram carregados."""
        return cls._loaded

    @classmethod
    def reload(cls):
        """For√ßa recarregamento de todos os assets (use com cautela)."""
        cls._loaded = False
        cls.ASSETS.clear()
        cls.carregar_assets()

    @classmethod
    def get(cls, key):
        """M√©todo helper para acessar um asset."""
        return cls.ASSETS.get(key)
```

O diagrama UML reflete como os \*\*Assets (`AssetProvider`) [COLOCAR COMO O ASSET REFLETE NO PROJETO].

### 3.2.3.2. Opini√µes dos Participantes

<details>
  <summary><strong><a href="https://github.com/caioduart3">Caio Duarte</a></strong></summary>
  <p>Achei um padr√£o simples, √∫til para muitos projetos e contextos e f√°cil de implementar. Acredito que ele se encaixou perfeitamente com o nosso contexto de assets.</p>
</details>

<details>
  <summary><strong><a href="https://github.com/felixlaryssa">Laryssa F√©lix</a></strong></summary>
  <p>Gostei do padr√£o porque separa a l√≥gica de cria√ß√£o da l√≥gica de uso, deixando o c√≥digo mais limpo e organizado.</p>
</details>

<details>
  <summary><strong><a href="https://github.com/rafaelSchadt">Rafael Welz Schadt</a></strong></summary>
  <p>Gostei do padr√£o porque separa a l√≥gica de cria√ß√£o da l√≥gica de uso, deixando o c√≥digo mais limpo e organizado.</p>
</details>

<details>
  <summary><strong><a href="https://github.com/VictorPontual">Victor Pontual Guedes Nobrega</a></strong></summary>
  <p>Gostei do padr√£o porque separa a l√≥gica de cria√ß√£o da l√≥gica de uso, deixando o c√≥digo mais limpo e organizado.</p>
</details>

## 3.2.6. Refer√™ncias Bibliogr√°ficas

> <a id="REF1">1.</a> GAMMA, Erich et al. **Padr√µes de Projeto: Solu√ß√µes Reutiliz√°veis de Software Orientado a Objetos**. Tradu√ß√£o de C. F. Lucena e F. S. C. da Silva. Porto Alegre: Bookman, 2007. (T√≠tulo original: _Design Patterns: Elements of Reusable Object-Oriented Software_).

## Hist√≥rico de Vers√µes üìÖ

| Vers√£o |    Data    |                Descri√ß√£o                |                  Autor(es)                   |                    Revisor(es)                     |
| :----: | :--------: | :-------------------------------------: | :------------------------------------------: | :------------------------------------------------: |
| `0.1`  | 23/10/2025 | Adicionando Documenta√ß√£o GoF Criacional | [Caio Duarte](https://github.com/caioduart3) | [Victor Pontual](https://github.com/VictorPontual) |
