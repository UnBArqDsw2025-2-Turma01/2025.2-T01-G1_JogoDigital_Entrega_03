# 3.2. M√≥dulo Padr√µes de Projeto GoFs Estruturais

## 3.2.1. Introdu√ß√£o

Os **Padr√µes de Projeto Comportamentais**, parte do cat√°logo da "Gang of Four" (GoF) <a href="#REF1">[1]</a>, representam um conjunto de solu√ß√µes consagradas para problemas recorrentes no design de *software* orientado a objetos. Diferentemente dos padr√µes Criacionais e Estruturais, que lidam com a cria√ß√£o e a composi√ß√£o de classes, os Comportamentais focam na **intera√ß√£o e comunica√ß√£o entre objetos**.

Esses padr√µes s√£o essenciais para definir como as responsabilidades s√£o distribu√≠das e como a informa√ß√£o √© trocada de forma flex√≠vel e eficiente dentro de um sistema [1]. Ao encapsular algoritmos e coordenar o fluxo de controle, eles visam **reduzir o acoplamento** entre classes e, consequentemente, tornar o c√≥digo mais **adapt√°vel a mudan√ßas**, mais leg√≠vel e mais f√°cil de manter. Eles fornecem um vocabul√°rio comum para descrever o *comportamento* de um sistema, aumentando a robustez e a capacidade de extens√£o de uma aplica√ß√£o.

## Participantes

<font size="3"><p style="text-align: center">Tabela 1: Participantes</p></font>

<div align="center">
<table>
  <thead>
    <tr>
      <th>Nome</th>
      <th>Fun√ß√£o</th>
      <th>Data</th>
      <th>Hora</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="https://github.com/caioduart3">Caio Duarte</a></td>
      <td>GoF Estrutural - Composite</td>
      <td>22/10/2025</td>
      <td>20:00</td>
    </tr>
    <tr>
      <td><a href="https://github.com/danielle-soaress">Danielle Soares</a></td>
      <td>GoF Estrutural - Facade</td>
      <td>22/10/2025</td>
      <td>11:00</td>
    </tr>
    <tr>
      <td><a href="https://github.com/EnzoEmir">Enzo Emir</a></td>
      <td>GoF Estrutural - Facade</td>
      <td>22/10/2025</td>
      <td>11:00</td>
    </tr>
    <tr>
      <td><a href="https://github.com/felixlaryssa">Laryssa F√©lix</a></td>
      <td>GoF Estrutural - Composite</td>
      <td>22/10/2025</td>
      <td>20:00</td>
    </tr>
    <tr>
      <td><a href="https://github.com/Leticia-Arisa-K-Higa">Leticia Arisa</a></td>
      <td>GoF Estrutural - Facade</td>
      <td>22/10/2025</td>
      <td>11:00</td>
    </tr>
    <tr>
      <td><a href="https://github.com/MM4k">Marcelo Makoto</a></td>
      <td>GoF Estrutural - Composite</td>
      <td>22/10/2025</td>
      <td>20:00</td>
    </tr>
    <tr>
      <td><a href="https://github.com/dudaa28">Maria Eduarda</a></td>
      <td>GoF Estrutural - Composite</td>
      <td>22/10/2025</td>
      <td>20:00</td>
    </tr>
    <tr>
      <td><a href="https://github.com/RafaelSchadt">Rafael Welz</a></td>
      <td>GoF Estrutural - Composite</td>
      <td>22/10/2025</td>
      <td>20:00</td>
    </tr>
    <tr>
      <td><a href="https://github.com/VictorPontual">Victor Pontual</a></td>
      <td>GoF Estrutural - Facade</td>
      <td>20/10/2025</td>
      <td>11:00</td>
    </tr>
  </tbody>
</table>
</div>

<font size="2"><p style="text-align: center">Fonte: Equipe do Projeto, 2025.</p></font>

## 3.2.2. Metodologia

A pesquisa e o desenvolvimento do estudo dos Padr√µes de Projeto Comportamentais foram conduzidos seguindo uma abordagem pr√°tica e colaborativa, focada na aplica√ß√£o real dos conceitos em um sistema de *software* existente.

### 3.2.2.1. Revis√£o e Sele√ß√£o de Padr√µes
Iniciou-se com a revis√£o do cat√°logo de Padr√µes de Projeto Comportamentais da "Gang of Four" (GoF), conforme introduzido na se√ß√£o anterior. Foram selecionados os padr√µes mais relevantes para resolver problemas de intera√ß√£o e comunica√ß√£o observados no **software interno do jogo**, que est√° hospedado em um reposit√≥rio de c√≥digo separado.

### 3.2.2.2. Aplica√ß√£o e Implementa√ß√£o
Os padr√µes de projeto selecionados (*Facade* e *Composite*) foram implementados diretamente no c√≥digo-fonte do *software* interno do jogo. Esta etapa foi crucial para testar a efic√°cia dos padr√µes na redu√ß√£o do acoplamento, melhoria da legibilidade e aumento da flexibilidade do sistema.

### 3.2.2.3. Modelagem e Documenta√ß√£o UML
Para documentar visualmente a estrutura e a aplica√ß√£o dos padr√µes, o *software* **Draw.io** foi utilizado para a cria√ß√£o de **Diagramas UML (Linguagem de Modelagem Unificada)**. Esses diagramas (principalmente de Classe e/ou Sequ√™ncia) serviram para mapear as novas intera√ß√µes e rela√ß√µes entre os objetos resultantes da aplica√ß√£o dos padr√µes Comportamentais.

### 3.2.2.4. Demonstra√ß√£o e Colabora√ß√£o
Para garantir a transpar√™ncia do processo e documentar a participa√ß√£o de cada membro, as sess√µes de desenvolvimento, discuss√µes t√©cnicas e demonstra√ß√µes de execu√ß√£o do c√≥digo foram **gravadas por meio da plataforma Microsoft Teams**. Essas grava√ß√µes serviram como artefatos de evid√™ncia, demonstrando a aplica√ß√£o pr√°tica dos padr√µes, o fluxo de trabalho colaborativo e a contribui√ß√£o individual dos membros da equipe na solu√ß√£o dos problemas de design.

## **3.2.3. Composite**

O padr√£o **Composite** √© um padr√£o de projeto estrutural que visa **compor objetos em estruturas de √°rvore** para representar hierarquias **"parte-todo"**.

A inten√ß√£o principal √© permitir que os clientes (c√≥digo que utiliza a estrutura) **tratem objetos individuais e composi√ß√µes de objetos de maneira uniforme**.

### **3.2.3.1. Diagrama UML**

O GoF Estrutural *Composite* foi aplicado ao projeto, no seguinte c√≥digo:
![diret√≥rio do c√≥digo](../assets/GoFsEstruturais/image.png)

???+ note "Aplica√ß√£o do Padr√£o Composite (Gerenciamento de Sprites)"
    O trecho de c√≥digo a seguir, extra√≠do do arquivo principal de gerenciamento de *sprites* (`sprite_groups.py`) demonstra a implementa√ß√£o do Padr√£o Composite atrav√©s da classe `SpriteComposite`.  
    Essa classe unifica a gest√£o de diversos grupos de *sprites* (`caiporas`, `inimigos`, `projeteis`, etc.) permitindo que opera√ß√µes como `update()` e `draw()` sejam executadas de forma transparente em todos os grupos de uma s√≥ vez.

    ```python
    import pygame
    from Template.UIConfigs import *

    class SpriteComposite:
        """Gerenciador unificado de todos os grupos de sprites do jogo."""
        def __init__(self):
            self.caiporas = pygame.sprite.Group()
            self.inimigos = pygame.sprite.Group()
            self.projeteis = pygame.sprite.Group()
            self.guaranas = pygame.sprite.Group()

            self._all_groups = [
                self.projeteis,
                self.caiporas,
                self.inimigos,
                self.guaranas
            ]

        def update(self):
            for group in self._all_groups:
                group.update()

        def draw(self, surface):
            for group in self._all_groups:
                group.draw(surface)

        def reset(self):
            for group in self._all_groups:
                group.empty()

    sprite_manager = SpriteComposite()
    ```

Portanto, assim ficou modelado em UML, o padr√£o Composite no c√≥digo do jogo. Clique aqui para [acessar](https://app.diagrams.net/#G1p7RkwHkF4gsjF1OD6TZ4vaDRCexq4uEc#%7B"pageId"%3A"C5RBs43oDa-KdzZeNtuy"%7D):

[![Ver UML do Composite](../assets/GoFsEstruturais/Composite.drawio.png)](https://app.diagrams.net/#G1p7RkwHkF4gsjF1OD6TZ4vaDRCexq4uEc#%7B"pageId"%3A"C5RBs43oDa-KdzZeNtuy"%7D)

O diagrama acima ilustra a **arquitetura de classes respons√°vel pelo gerenciamento de sprites** no jogo, evidenciando como o **Padr√£o de Projeto Composite** foi aplicado para unificar e organizar diferentes tipos de entidades (como personagens, inimigos, proj√©teis e defesas) sob uma mesma estrutura de controle.

No topo, encontra-se a classe **`SpriteComposite`**, que atua como o **componente composto principal**. Ela agrega diversos grupos de sprites ‚Äî como `caiporas`, `inimigos`, `projeteis` e `guaranas` ‚Äî, todos representados por inst√¢ncias de `pygame.sprite.Group`. Essa classe possui m√©todos como `update()` e `draw()`, que **propagam as opera√ß√µes** de atualiza√ß√£o e renderiza√ß√£o para todos os grupos internos, mantendo a hierarquia de forma transparente.

Logo abaixo, a classe **`Entity`** funciona como a **classe base abstrata** para todos os objetos que possuem representa√ß√£o visual e comportamento no jogo. Ela define atributos comuns, como:

- `image`: superf√≠cie gr√°fica da entidade.  
- `rect`: posi√ß√£o e √°rea de colis√£o.  
- `health`: quantidade de vida da entidade.  
- `update()`: m√©todo gen√©rico para atualiza√ß√£o, que pode ser sobrescrito pelas subclasses.

As classes derivadas de `Entity` representam os **tipos espec√≠ficos de entidades do jogo**, sendo elas:

- **`Defesa`**: define estruturas defensivas com atributos de custo, estado atual e comportamento de bloqueio.  
- **`Guarana`**: representa a moeda do jogo, possuindo atributos de velocidade, imagem e m√©todo de colis√£o (`collide()`).  
- **`Arrow`**: modela flechas ou proj√©teis inimigos, com propriedades de dano e trajet√≥ria.  
- **`Enemies`**: classe gen√©rica para inimigos, contendo l√≥gica de movimento, estado e ataque.

Al√©m disso, h√° classes especializadas que **herdam dessas entidades principais**:

- **`Caipora`**: herda de `Defesa` e adiciona comportamentos espec√≠ficos, como anima√ß√µes, ataques e controle de tempo de a√ß√£o.  
- **`BichoPapao`**: herda de `Enemies` e especializa os par√¢metros de dano, velocidade e anima√ß√µes de ataque.

Essa organiza√ß√£o reflete o uso do **Composite** aliado √† **heran√ßa hier√°rquica**:

- O `SpriteComposite` **orquestra** todos os grupos de entidades do jogo.  
- Cada entidade, derivada de `Entity`, **atua como um componente individual** dentro dessa estrutura unificada.

Em resumo, o diagrama mostra **uma hierarquia bem definida e extens√≠vel**, em que o Composite (`SpriteComposite`) gerencia m√∫ltiplos objetos (entidades e subclasses) como se fossem um √∫nico conjunto, favorecendo a coes√£o e o baixo acoplamento entre os m√≥dulos do sistema.

### **3.2.3.2. V√≠deo Demonstrativo**

Foi gravado, na plataforma do Microsoft Teams, uma reuni√£o para a modelagem UML do padr√£o Composite e a execu√ß√£o do c√≥digo al√©m da explica√ß√£o do mesmo. Clique [aqui](https://youtu.be/62f51kDLWNQ?si=3HCpRg2Mn46kOYO0) para acessar.


<iframe width="560" height="315" src="https://youtube.com/embed/62f51kDLWNQ?si=3HCpRg2Mn46kOYO0" title="YouTube video player" frameborder="0" allowfullscreen></iframe>

## **3.2.4. Facade**

## 3.2.5 Refer√™ncias Bibliogr√°ficas

> <a id="REF1">1.</a> GAMMA, Erich et al. **Padr√µes de Projeto: Solu√ß√µes Reutiliz√°veis de Software Orientado a Objetos**. Tradu√ß√£o de C. F. Lucena e F. S. C. da Silva. Porto Alegre: Bookman, 2007. (T√≠tulo original: *Design Patterns: Elements of Reusable Object-Oriented Software*).

## Hist√≥rico de Vers√µes üìÖ

| Vers√£o | Data | Descri√ß√£o | Autor(es) | Revisor(es) |
| :--: | :--: | :--: | :--: | :--: |
| `0.1` | 22/10/2025 | Adicionando Documenta√ß√£o GoF Estrutural | [Maria Eduarda Andrade](https://github.com/dudaa28), [Rafael Welz](https://github.com/RafaelSchadt) | [Caio Duarte](https://github.com/caioduart3) |
